--
-- PostgreSQL database dump
--

-- Dumped from database version 10.16
-- Dumped by pg_dump version 10.16

-- Started on 2021-07-04 06:59:40

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

--
-- TOC entry 1 (class 3079 OID 12924)
-- Name: plpgsql; Type: EXTENSION; Schema: -; Owner: 
--

CREATE EXTENSION IF NOT EXISTS plpgsql WITH SCHEMA pg_catalog;


--
-- TOC entry 2845 (class 0 OID 0)
-- Dependencies: 1
-- Name: EXTENSION plpgsql; Type: COMMENT; Schema: -; Owner: 
--

COMMENT ON EXTENSION plpgsql IS 'PL/pgSQL procedural language';


SET default_tablespace = '';

SET default_with_oids = false;

--
-- TOC entry 200 (class 1259 OID 27182)
-- Name: Categories; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."Categories" (
    "Id" integer NOT NULL,
    "Name" text,
    "Description" text
);


ALTER TABLE public."Categories" OWNER TO postgres;

--
-- TOC entry 199 (class 1259 OID 27180)
-- Name: Categories_Id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public."Categories" ALTER COLUMN "Id" ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public."Categories_Id_seq"
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 202 (class 1259 OID 27260)
-- Name: Orders; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."Orders" (
    "Id" integer NOT NULL,
    "CreationTime" timestamp without time zone NOT NULL,
    "IsCompleted" boolean NOT NULL
);


ALTER TABLE public."Orders" OWNER TO postgres;

--
-- TOC entry 201 (class 1259 OID 27258)
-- Name: Orders_Id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public."Orders" ALTER COLUMN "Id" ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public."Orders_Id_seq"
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 203 (class 1259 OID 27265)
-- Name: ProductOrders; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."ProductOrders" (
    "ProductId" integer NOT NULL,
    "OrderId" integer NOT NULL,
    "Amount" integer NOT NULL
);


ALTER TABLE public."ProductOrders" OWNER TO postgres;

--
-- TOC entry 198 (class 1259 OID 27164)
-- Name: Products; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."Products" (
    "Id" integer NOT NULL,
    "Name" text,
    "CategoryId" integer DEFAULT 0 NOT NULL,
    "Description" text,
    "Price" integer DEFAULT 0 NOT NULL
);


ALTER TABLE public."Products" OWNER TO postgres;

--
-- TOC entry 197 (class 1259 OID 27162)
-- Name: Products_Id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public."Products" ALTER COLUMN "Id" ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public."Products_Id_seq"
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 196 (class 1259 OID 27157)
-- Name: __EFMigrationsHistory; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL
);


ALTER TABLE public."__EFMigrationsHistory" OWNER TO postgres;

--
-- TOC entry 2834 (class 0 OID 27182)
-- Dependencies: 200
-- Data for Name: Categories; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public."Categories" ("Id", "Name", "Description") FROM stdin;
4	Видеокарты	Видеокарты
5	Материнские платы	Материнские платы
6	Модули памяти	Модули памяти
7	SSD накопители	SSD накопители
8	Стиральные машины	Стиральные машины
9	Мониторы	Мониторы
10	Процессоры	Процессоры
11	Ноутбуки	Ноутбуки
12	Смартфоны	Смартфоны
13	Холодильники	Холодильники
\.


--
-- TOC entry 2836 (class 0 OID 27260)
-- Dependencies: 202
-- Data for Name: Orders; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public."Orders" ("Id", "CreationTime", "IsCompleted") FROM stdin;
6	2021-06-22 14:40:00	t
7	2021-06-22 15:44:00	t
8	2021-06-24 11:10:00	t
9	2021-06-25 16:50:00	t
10	2021-06-26 09:10:00	t
11	2021-06-26 12:30:00	t
12	2021-06-28 11:14:00	t
13	2021-06-28 16:43:00	t
14	2021-06-29 11:50:00	t
15	2021-06-29 15:08:00	t
16	2021-06-30 13:06:00	f
\.


--
-- TOC entry 2837 (class 0 OID 27265)
-- Dependencies: 203
-- Data for Name: ProductOrders; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public."ProductOrders" ("ProductId", "OrderId", "Amount") FROM stdin;
14	12	3
15	12	6
5	13	1
11	14	1
11	15	2
6	6	1
5	7	3
9	8	1
15	8	2
5	8	1
11	8	1
13	9	5
15	9	10
7	9	5
5	9	2
14	10	2
12	11	3
8	11	3
11	12	3
12	12	3
9	12	3
7	12	3
6	12	3
5	12	3
\.


--
-- TOC entry 2832 (class 0 OID 27164)
-- Dependencies: 198
-- Data for Name: Products; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public."Products" ("Id", "Name", "CategoryId", "Description", "Price") FROM stdin;
10	Процессор AMD Ryzen 5 3600,  OEM Процессор AMD Ryzen 5 3600, OEM	10	Ядро: Matisse\nГнездо процессора: SocketAM4	14590
11	Процессор AMD Ryzen 5 2600, OEM	10	Ядро: Pinnacle Ridge\nГнездо процессора: SocketAM4	10690
12	Процессор INTEL Core i5 10400F, OEM	10	Ядро: Comet Lake\nГнездо процессора: LGA 1200	11990
13	Процессор AMD Athlon 3000G, OEM	10	Ядро: Picasso\nГнездо процессора: SocketAM4\nКоличество ядер: 2	6490
14	Модуль памяти PATRIOT PSD34G13332 DDR3 - 4ГБ	6	Форм-фактор: DIMM\nКоличество контактов: 240-pin	1790
15	Модуль памяти CRUCIAL CT8G4DFRA266 DDR4 - 8ГБ	6	Форм-фактор: DIMM\nКоличество контактов: 288-pin	3390
6	Видеокарта GIGABYTE NVIDIA GeForce RTX 3070	4	Видеочипсет: NVIDIA GeForce RTX 3070	111990
5	Видеокарта PALIT NVIDIA GeForce RTX 3060	4	Видеочипсет: NVIDIA GeForce RTX 3060	75990
7	Материнская плата ASROCK A320M-DVS R4.0	5	Гнездо процессора: SocketAM4\nЧипсет: AMD A320	3680
8	Материнская плата GIGABYTE B450M S2H	5	Гнездо процессора: SocketAM4	4910
9	Материнская плата ASROCK B450M PRO4	5	Гнездо процессора: SocketAM4	5730
\.


--
-- TOC entry 2830 (class 0 OID 27157)
-- Dependencies: 196
-- Data for Name: __EFMigrationsHistory; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public."__EFMigrationsHistory" ("MigrationId", "ProductVersion") FROM stdin;
20210613220556_Product	5.0.7
20210620002547_Categories	5.0.7
20210701023054_Orders	5.0.7
20210703204140_Price	5.0.7
20210704014432_NoImage	5.0.7
\.


--
-- TOC entry 2846 (class 0 OID 0)
-- Dependencies: 199
-- Name: Categories_Id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public."Categories_Id_seq"', 13, true);


--
-- TOC entry 2847 (class 0 OID 0)
-- Dependencies: 201
-- Name: Orders_Id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public."Orders_Id_seq"', 16, true);


--
-- TOC entry 2848 (class 0 OID 0)
-- Dependencies: 197
-- Name: Products_Id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public."Products_Id_seq"', 15, true);


--
-- TOC entry 2700 (class 2606 OID 27189)
-- Name: Categories PK_Categories; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Categories"
    ADD CONSTRAINT "PK_Categories" PRIMARY KEY ("Id");


--
-- TOC entry 2702 (class 2606 OID 27264)
-- Name: Orders PK_Orders; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Orders"
    ADD CONSTRAINT "PK_Orders" PRIMARY KEY ("Id");


--
-- TOC entry 2705 (class 2606 OID 27269)
-- Name: ProductOrders PK_ProductOrders; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."ProductOrders"
    ADD CONSTRAINT "PK_ProductOrders" PRIMARY KEY ("OrderId", "ProductId");


--
-- TOC entry 2698 (class 2606 OID 27171)
-- Name: Products PK_Products; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Products"
    ADD CONSTRAINT "PK_Products" PRIMARY KEY ("Id");


--
-- TOC entry 2695 (class 2606 OID 27161)
-- Name: __EFMigrationsHistory PK___EFMigrationsHistory; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."__EFMigrationsHistory"
    ADD CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId");


--
-- TOC entry 2703 (class 1259 OID 27280)
-- Name: IX_ProductOrders_ProductId; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX "IX_ProductOrders_ProductId" ON public."ProductOrders" USING btree ("ProductId");


--
-- TOC entry 2696 (class 1259 OID 27205)
-- Name: IX_Products_CategoryId; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX "IX_Products_CategoryId" ON public."Products" USING btree ("CategoryId");


--
-- TOC entry 2707 (class 2606 OID 27270)
-- Name: ProductOrders FK_ProductOrders_Orders_OrderId; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."ProductOrders"
    ADD CONSTRAINT "FK_ProductOrders_Orders_OrderId" FOREIGN KEY ("OrderId") REFERENCES public."Orders"("Id") ON DELETE CASCADE;


--
-- TOC entry 2708 (class 2606 OID 27275)
-- Name: ProductOrders FK_ProductOrders_Products_ProductId; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."ProductOrders"
    ADD CONSTRAINT "FK_ProductOrders_Products_ProductId" FOREIGN KEY ("ProductId") REFERENCES public."Products"("Id") ON DELETE RESTRICT;


--
-- TOC entry 2706 (class 2606 OID 27207)
-- Name: Products FK_Products_Categories_CategoryId; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Products"
    ADD CONSTRAINT "FK_Products_Categories_CategoryId" FOREIGN KEY ("CategoryId") REFERENCES public."Categories"("Id") ON DELETE RESTRICT;


-- Completed on 2021-07-04 06:59:40

--
-- PostgreSQL database dump complete
--

